<html>
<head>
<!-- 


todo: 

json object 

welder {
  ...
}


-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
Hazard Tool
</title>
<style type="text/css">
* {
font-size:14px;
}
div {
  padding : 10px;
}
ul {
list-style-type:none;
}
ul,li {
margin:10px;
padding:0;
color: grey;
}
label>span {
display: inline-block;
width:150px;
}
input[type=text] {


margin-bottom: 12px;
background: transparent;
	border: none;
	border-bottom: 1px dashed grey;
	width: 90%;
	outline: none;
	padding: 0px 0px 0px 0px;
	font-size:16px;
}

</style>
</head>
<body>
  <div>
<h1>Hazard Tool</h1>

<ol>
<li>
Job Info
</li><li>
Permits
</li><li>
Safety Info
</li><li>
Hazard Checklist
</li><li>
Task, Hazard, Control, Ranking
</li><li>
Approvals 
</li><li>
Time Stamps
</li><li>
  Print
</li>

</ol>


<hr>
<h2>Job Info</h2>
<ul><li>
<label for="workername">
<span>Name</span><input type="text" name="workername"  />
</label>
</li><li>




<label for="date">
<span>Date</span>
<input type="text" id="datet"  />
<span onClick="setdate()" style="font-size:36px" >‚Üê</span>
</label>
</li>


<script src="js/moment.js"></script>
<script type="text/javascript">


const setdate = function()  {

var datebox = document.getElementById("datet");
var m = moment().format('MMMM Do YYYY, h:mm a');
datebox.value = m;
}


</script>


<li>
<label for="supervisor">
<span>Supervisor </span>
<input type="text" name="supervisor"  />
</label>
</li><li>
<label for="jobnumber">
<span>Job #</span><input type="text" name="jobnumber"  />
</label>

</li><li>
<label for="client">
<span>Client</span><input type="text" name="client"  />
</label>

</li></ul>
<h2>Permits</h2>
<ul>

	<li>
	<label for="safeworkpermits">
	<span>Safe Work Permits</span>
	<input type="text" name="safeworkpermits"  />
	</label>
	</li>
	<li>
	<label for="grounddisturbance">
	<span>Ground Disturbance</span>
	<input type="text" name="grounddisturbance"  />
	</label>
	</li><li>
	<label for="confinedspace">
	<span>Confined Space</span>
	<input type="text" name="confinedspace"  />
	</label>
	</li>

</ul>
<h2>Safety Info </h2>
<ul>

<li>
<label for="location">
<span>Location</span>
<input type="text" id="location"  />
</label>
</li>


<script>

function showPosition(position) {

var x = document.getElementById("location");
  
  x.value = position.coords.latitude + 
  ", " + position.coords.longitude;
}

function getLocation() {

  if (navigator.geolocation) {
  
    navigator.geolocation.getCurrentPosition(showPosition);
  } else { 
    x.value = "Geolocation is not supported by this browser.";
  }
}

</script>

<span onclick="getLocation()">gps </span>

<script type="text/javascript">
function openmap() {

var x = document.getElementById("location");

if (!x.value.match(/\S/)) 
{
    alert("Field is blank");
    return false;
} 
else 
{
 window.open("https://maps.google.com/?q=" + x.value );
    return;

}
}

</script>


<span onclick="openmap()"> map </span>
<!--
https://maps.google.com/?q=<lat>,<lng>

-->

<li>
<label for="firstaiders">
<span>First Aiders</span>
<input type="text" name="firstaiders"  />
</label>
</li><li>
<label for="muster">
<span>Muster</span>
<input type="text" name="muster"  />
</label>
</li><li>
<label for="weather">
<span>Weather</span><input type="text" name="weather"  />
</label>
</li>



<li>
<input type="checkbox" 
	name="fitforwork"
	id="fitforwork" />
<label for="fitforwork">
Fit for work
</label>
</li>

<li>
<input type="checkbox" 
	name="ppeinspected"
	id="ppeinspected" />
<label for="ppeinspected">
PPE Inspected
</label>
</li>

<li>
<input type="checkbox"
 name="fallprotection"
  id="fallprotection" />
	
<label for="fallprotection">
<span>Fall Protection Plan </span>
<input type="text" name="fallprotectiont"  />
</label>
</li><li>

<label for="erp">
<input type="checkbox"
 name="erp"
  id="erp" />
<span>ERP</span>
<input type="text" name="erpt"  />
</label>
</li>


</ul>

<h2>Hazard Checklist</h2>

<ul><li>
<li>
<input type="checkbox" 
	name="driving"
	id="driving" />
<label for="driving">
Driving
</label>
<ul id="drivinghazards" >
  <!--
  <li>
  <input type="checkbox"
  id=""
  name="" />
  <label for="">
  
  </label>
  </li>
  -->
  
  <li>
  <input type="checkbox"
  id="inspection"
  name="inspection" />
  <label for="inspection">
  Inspection
  </label>
  </li>
  
  
  <li>
  <input type="checkbox"
  id="spotter"
  name="spotter" />
  <label for="spotter">
  Spotter
  </label>
  </li>
  
  
  <li>
  <input type="checkbox"
  id="traffic"
  name="traffic" />
  <label for="traffic">
  Traffic
  </label>
  </li>
  
  
  <li>
  <input type="checkbox"
  id="logbook"
  name="logbook" />
  <label for="logbook">
  Log Book
  </label>
  </li>
  
  
  
  </ul>
  
</li><li>
<input type="checkbox" 
name="welding"
 id="welding"/>
 <label for="welding">
Welding
</label>

<ul id="weldinghazards"> 
  <li>
  <input type="checkbox" 
    name="fireextinguisher"
    id="fireextinguisher" />
  <label for="fireextinguisher">
  fire extinguisher 
  </label>
  </li><li>
  <input type="checkbox"
  id="electricalcords"
  name="electricalcords" />
  <label for="electricalcords">
  electical cords
  </label>
  </li><li>
  <input type="checkbox"
  id="gaurds"
  name="gaurds" />
  <label for="gaurds">
  gaurds
  </label>
  </li><li>
  <input type="checkbox"
  id="flyingdebris"
  name="flyingdebris" />
  <label for="flyingdebris">
  flying debris
  </label>
  </li><li>
  <input type="checkbox"
  id="lighting"
  name="lighting" />
  <label for="lighting">
  lighting
  </label>
  </li><li>
  <input type="checkbox"
  id="dustfumes"
  name="dustfumes" />
  <label for="dustfumes">
  dust / fumes
  </label>
  </li><li>
  <input type="checkbox"
  id="h2s"
  name="h2s" />
  <label for="h2s">
  H2S
  </label>
  </li><li>
  <input type="checkbox"
  id="lels"
  name="lels" />
  <label for="lels">
  LELs
  </label>
  </li><li>
  
  </li>
  </ul>


</li>

<li>
<input type="checkbox" 
name="fitting"
 id="fitting" />
 <label for="fitting">
Pipe Fitting
</label>
<ul id="fittinghazards">
<li>
<input type="checkbox"
id="loto"
name="loto" />
<label for="loto">
Loto
</label>
</li><li>
<input type="checkbox"
id=""
name="" />
<label for="">

</label>
</li>

</ul>

</li>


<li>
<input type="checkbox" 
name="labour"
 id="labour" />
 <label for="labour">
Labour
</label>

<ul id="labourhazards">
<li>
<input type="checkbox"
id="slips"
name="slips" />
<label for="slips">
Slips / Trips
</label>
</li><li>
<input type="checkbox"
id=""
name="" />
<label for="">

</label>
</li>
</ul>
</li>



<li>
<input type="checkbox" 
name="operating"
 id="operating" />
 <label for="operating">
Equipment Operating
</label>

<ul id="operatinghazards">
<li>
<input type="checkbox"
id="spotter2"
name="spotter2" />
<label for="spotter2">
Spotter
</label>
</li>
<li>
<input type="checkbox"
id=""
name="" />
<label for="">

</label>
</li>
</ul>
</li>

<li>
<input type="checkbox" 
name="general"
 id="general" />
 <label for="general">
General
</label>



<ul id="generalhazards">
<li>
<input type="checkbox"
id=""
name="" />
<label for="">

</label>
</li>

<li>
<input type="checkbox"
id=""
name="" />
<label for="">

</label>
</li>

<li>
<input type="checkbox"
id=""
name="" />
<label for="">

</label>
</li>

<li>
<input type="checkbox"
id="workigalone"
name="workigalone" />
<label for="workigalone">
Working Alone
</label>
</li>

</ul><!-- generalhazards end -->

</li>
</ul>



<!--


Environmental

Noise gt 85db
Weather
Housekeeping
Spill Potential
Dust / Fumes
Lighting

Equipment

Spotter required
Other Workers
Moving equipment
Inspections
Fire Extinguisher

Ground Disturbance

Locate valid
Daylight Pipe and cables
Access and Egress
Debris
Slope

Elecrical

Overhead power lines
Energized Equipment
Cords on tools
GFI

Rigging

Equipment inspection
Tag lines
slings inspected
overhead hazards
Spotter 
Visibility
Weather

Ergonomic

Stretching
Tight spaces
bending, twisting
repetitive
heavy
reach
slips, trips
hands visible

PPE

FR clothing
Side Impact Hardhat
CSA boots
Safety glasses
Face shield
Safety Goggles
Ear plugs
Ear muffs
Hi Vis vest, gloves, wrist band
Chemical suit
Harness inspection
Respirator mask
SCBA SABA

Safety

Adequate training
Barracades
Signage
Radio check
Air Horn
LOTO
Shave
Gas monitor







-->

<h2>Task Hazards</h2>
<h2>Approvals </h2>

<a href="#print" onClick="window.print();">
<h2 id="print">Print </h2>
</a>
</div>
<!--
Area tidy
Barricades
Signage
Incidents
Near miss
Where you injured
Signout time
Signout
Submit to supervisor 

-->
<script type="text/javascript">


/*

var checkbox = document.getElementById("welder");
checkbox.addEventListener('change', (event) => {
  var welderhazard = document.getElementById("welderhazards");
  if (event.target.checked) {
    welderhazard.style.display = "block";
  } else {
    welderhazard.style.display = "none";
  }
});

*/



const buildtoggle = function(checkname)  {

var checkbox = document.getElementById(checkname);
var hazards = document.getElementById(checkname + "hazards");
if ( hazards == null ) {
alert(checkname)
}
 hazards.style.display = "none";
 
checkbox.addEventListener('change', (event) => {
  var hazards = document.getElementById(checkname + "hazards");
  if (event.target.checked) {
    hazards.style.display = "block";

  } else {
    hazards.style.display = "none";
   
  }
});

}



buildtoggle("welding");
buildtoggle("driving");
buildtoggle("general");
buildtoggle("fitting");
buildtoggle("labour");
buildtoggle("operating");

</script>
</body>
</html>